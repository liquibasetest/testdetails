resource "snowflake_external_table" "table1" {
  name     = "TABLE1"
  database = "<YourDatabaseName>"
  schema   = "<YourSchemaName>"
  comment  = "Your comment here"

  file_format = "<YourFileFormatName>"

  column {
    name    = "TAX_ISS"
    type    = "VARCHAR"
    length  = 10
    as_expr = "CAST(GET($1, 'TAX_ISS') AS VARCHAR(50))"
  }

  column {
    name    = "PARTITTION_DATE"
    type    = "VARCHAR"
    as_expr = "SPLIT_PART(METADATA$FILENAME, '/', 6)"
  }

  partition_column {
    name = "PARTITTION_DATE"
  }

  location = "@DEVSTAGE"
}
